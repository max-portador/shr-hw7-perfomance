(this["webpackJsonpshr-hw7-perfomance"]=this["webpackJsonpshr-hw7-perfomance"]||[]).push([[0],{12:function(e,t,n){e.exports=n(26)},17:function(e,t,n){},2:function(e,t){e.exports={IMAGES_AMOUNT:8,MAIN_PAGE:"random_images",METRICS:{dogs:"loadDogsImages",cats:"loadCatsImages",randImages:"loadRandomImages"},GUID:"77d20161-ec5b-4cc1-b324-723096f7e4c7"}},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(5),o=n.n(s),i=n(6),c=(n(17),n(4)),u=function(e){var t=e.url;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"img__item"},r.a.createElement("img",{src:t,alt:"fetch"})))},d=function(){var e=Object(c.c)((function(e){return e.images.urls}));return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"images_section"},e.map((function(e,t){return r.a.createElement(u,{url:e,key:t})}))))},l=n(2),p=n(1),m=n.n(p),h=n(3);function g(e){return f.apply(this,arguments)}function f(){return(f=Object(h.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=1;case 2:if(!(a<l.IMAGES_AMOUNT+1)){e.next=11;break}return e.t0=n,e.next=6,t();case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:a++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dog.ceo/api/breeds/image/random/1");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.message[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thecatapi.com/v1/images/search");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n[0].url);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://picsum.photos/400/400");case 2:return t=e.sent,e.abrupt("return",t.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function b(){return I.apply(this,arguments)}function I(){return(I=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(v));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(E));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return _.apply(this,arguments)}function _(){return(_=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(w));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=Object(c.b)(),n=function(){var n=Object(h.a)(m.a.mark((function n(){var a,r,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=performance.now(),n.next=3,e.loadImages();case 3:r=n.sent,t({type:"ADD_IMAGE",payload:{urls:r}}),s=performance.now()-a,window.dispatchEvent(new CustomEvent(e.eventName,{detail:{loadingDuration:s}}));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(a.Fragment,null,r.a.createElement("button",{className:e.className,onClick:n},e.textLabel))},O=function(){return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__btns"},r.a.createElement(M,{className:"loadDogs",loadImages:b,eventName:"onLoadDogsImage",textLabel:"Load ".concat(l.IMAGES_AMOUNT," dogs images")}),r.a.createElement(M,{className:"loadCats",loadImages:x,eventName:"onLoadCatsImage",textLabel:"Load ".concat(l.IMAGES_AMOUNT," cats images")}),r.a.createElement(M,{className:"loadRandoms",loadImages:A,eventName:"onLoadRandomImages",textLabel:"Load ".concat(l.IMAGES_AMOUNT," random images")}))))};var T=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(O,null),r.a.createElement(d,null))},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},D=n(8),j={urls:[]},B=Object(i.a)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_IMAGE":return Object(D.a)(Object(D.a)({},e),{},{urls:t.payload.urls});default:return e}}}),L=(n(25),n(11));function S(){this.guid="",this.reqid="",this.page="",this.additional={},this._inited=!1,this._indexes={},this._countersBatchData=[],this._counterTimerId=null,this.counterUrl="https://shri.yandex/hw/stat/send"}S.prototype.init=function(e,t,n){e&&t&&n&&(this.guid=e,this.reqid=t,this.page=n,this._inited=!0)},S.prototype.setAdditionalParams=function(e){this.additional=Object.assign({},e)},S.prototype.send=function(e,t){if(this._inited){clearTimeout(this._counterTimerId),this._indexes[e]||(this._indexes[e]=0);var n={counterId:this.guid,requestId:this.reqid,page:this.page,name:e,value:t,index:this._indexes[e],additional:this.additional},a=this;this._countersBatchData.push(n),this._indexes[e]++,this._countersBatchData.length<42?this._counterTimerId=setTimeout((function(){a.sendBatchRequest()}),15):a.sendBatchRequest()}else console.warn("counter is not inited")},S.prototype.sendBatchRequest=function(){var e=JSON.stringify(this._countersBatchData);if(this._countersBatchData=[],this._counterTimerId=null,!(navigator.sendBeacon&&navigator.sendBeacon(this.counterUrl,new Blob([e],{type:"application/json"})))){var t=new XMLHttpRequest;t.open("POST",this.counterUrl),t.send(e)}};var k=new S,C=String(Math.random()).substr(2,12);k.init(l.GUID,C,l.MAIN_PAGE);if(k.setAdditionalParams({browser:/MSIE/.test(navigator.userAgent)?"Internet Explorer":/Edg/.test(navigator.userAgent)?"Edge":/Firefox/.test(navigator.userAgent)?"Firefox":/Opera/.test(navigator.userAgent)?"Opera":/YaBrowser/.test(navigator.userAgent)?"Yandex Browser":/Chrome/.test(navigator.userAgent)?"Google Chrome":/Safari/.test(navigator.userAgent)?"Safari":"other",platform:/iPhone/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)||/Windows Phone/.test(navigator.userAgent)||/BB10/.test(navigator.userAgent)?"touch":"desktop",connectionType:navigator.connection.effectiveType,os:navigator.platform,language:navigator.language,deviceMemory:navigator.deviceMemory}),window.performance){var G=window.performance.getEntriesByType("navigation"),R=Object(L.a)(G,1)[0],F=Math.round(R.connectEnd-R.connectStart);k.send("connect",F);var P=Math.round(R.responseEnd-R.requestStart);k.send("ttfb",P),setTimeout((function(){window.performance.getEntriesByType("paint").forEach((function(e){var t=e.name,n=e.startTime;"first-contentful-paint"===t?k.send("fcp",Math.round(n)):k.send("fp",Math.round(n))}))}),3e3)}window.addEventListener("onLoadDogsImage",(function(e){var t=e.detail.loadingDuration;k.send(l.METRICS.dogs,Math.round(t))})),window.addEventListener("onLoadCatsImage",(function(e){var t=e.detail.loadingDuration;k.send(l.METRICS.cats,Math.round(t))})),window.addEventListener("onLoadRandomImages",(function(e){var t=e.detail.loadingDuration;k.send(l.METRICS.randImages,Math.round(t))}));var U=Object(i.b)(B);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:U},r.a.createElement(T,null))),document.getElementById("root")),N()}},[[12,1,2]]]);
//# sourceMappingURL=main.f534cbc9.chunk.js.map