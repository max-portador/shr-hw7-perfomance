## Домашнее задание Performance

Я собрал React-приложение, которое помимо стандартной метрики
собирает креативную. В приложении 3 кнопки, при нажатии на которых отправляются запросы на внешние API,
где в ответе содержатся url на изображения собак, кошек или просто случайные картинки.

3 креативные метрики - это время между нажатием на кнопку и записи списка url в state приложения:
- loadDogsImages
- loadCatsImages
- loadRandomImages

Оно доступно в интернете по адресу [random-images.vercel.app](https://random-images.vercel.app)

### Установка

1. Скопируйте репозиторий и выполните ```npm i```
2. Запустите скрипт ```npm run start``` - он запустит React - приложение

### Сборка метрик

Код метрик лежит в папке ```./src/metrics```
- в файле ```loadFromApi.js``` лежат функции для создания запроса на API
- в файле ```index.js``` лежат основные метрики и креативные. Срезы для статистики передаются в методе ```metric_counter.setAdditionalParams()```
- Креативные метрики реализованы через прослушку собственных событий:
  - в ```metrics/index.js``` создаются слушатели событий, которые передают Counter имя метрики и длительность события
  - при клике на Button:
    - засекается время клика
    - отрабатывает одна функция из ```loadFromApi.js``` - возвращает массив urls
    - urls записываются в store
    - вычисляется длительность это процесса
    - инициируется ```CustomEvent```, которое в details содержит значение длительности
  - срабатывает слушатель, который мы повесили на наше событие в ```metrics/index.js```

### Просмотр статистики

1. Запустите скрипт ```npm run stat```, откройте [localhost:8080](http://localhost:8080)
2. В **Терминале** (Не в консоли браузера), будут выведены соответсвующие таблицы

### Код подготовки статистики

Код просмотра статистики лежит в папке ```./statistics```
1. В файле ```utils.js``` лежат функции для обработки данных по нашему ```guid``` , которые приходят с сервера
2. В файле ```stat.js```  установлены параметры для выдачи статистики
- ```const example_metric = METRICS.cats
   const example_date = "2021-10-29"
   const example_period = ["2021-10-28", "2021-11-11"]
   const example_requestId = "067178463181"
3. В module.exports добавляйте функции с соответствующими параметрами для получения желаемой статистики:
- ```prepareData
    showSession
    calcMetricByDate
    showMetricByPeriod
    compareMetric 
  
